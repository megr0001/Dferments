---
const {h2, p, billede, buttontxt} = Astro.props;
---
<div class="tiden">
  <div class="image_container startposition" id="imageFull">
    <img src={billede}>
      <div class="overlay">
        <div class="standard">
		      <h2>{h2}</h2>
		      <p>{p}</p>
         <button class="button buttonClicked" id="imageFull">{buttontxt}</button>
      </div> 
  </div>
</div>
</div>

  <!-- <div class="hover" style="display: none;">			
		<div class="description">
		<p>Kombucha, enjoy , taste ....</p>
        </div>
	</div> -->
    
<style>
.tiden {
    position: relative;
    display: flex;
    flex-direction: column;
    align-items: center;
}
.image_container {
  position: relative;
  display: inline-block;
  border-radius: 10px;
  transition: width 1s, height 1s, transform 1s, box-shadow 1s, background-color 1s;
}

.image_container.startposition {
    width: 360px;
    height: 430px;
      overflow: hidden;
    transform: scale(1);
  box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
  background-color: transparent;
}

.image_container.full {
  width: 88%;
  height: auto;
  overflow: visible;
}

.image_container img {
  display: block;
  border-radius: 10px;
    width: 100%; 
  height: 100%;
    object-fit: cover;
}

  /* 
  <div class="image_container">
    <img src={billede}>
      <div class="overlay">
        <div class="standard">
		      <h2>{h2}</h2>
		      <p>{p}</p>
         <!-- <div class="button">{buttontxt}</div> -->
         <button class="button" >{buttontxt}</button>
      </div> 
  </div>
</div>
*/


.overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(
    to bottom,
    rgba(0, 0, 0, 0),
    rgba(0, 0, 0, 0.4)
  );
  border-radius: 10px;
  z-index: 1;
  pointer-events: none; /* Sikrer at overlayet ikke forstyrrer klik */
}

.standard {
    position: absolute;
    /* width: 382px;
  height: 252.19px;
  border-radius: 10px; */
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 2;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  text-align: center;
}

.standard h2, p {
    color: beige;
      position: absolute;
  max-width: 65ch;
}

.standard h2 {
    font-size: 24px;
    bottom: 40px;
  left: 16px;
    text-transform: uppercase;
}

.standard p {
      font-size: 18px;
    bottom: 8px;
  left: 16px;
}

.button {
position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
   background-color: transparent;
  border: 2px solid beige;
  border-radius: 10px;
  color: beige;
  font-size: 18px;
  font-weight: bold;
  padding: 10px 20px;
  cursor: pointer;
  transition: all 0.3s ease-in-out;
   animation: pulse 2s infinite alternate;
   pointer-events: auto; /* Sikrer at knappen kan klikkes */
}

/* .button:hover {
  background-color: orange;
  color: beige;
  border-color: orange;
  box-shadow: 0px 0px 10px rgba(255, 255, 255, 0.5);
  animation: none;
} */


@keyframes pulse {
  0% {
    transform: translate(-50%, -50%) scale(1);
  }
  100% {
    transform: translate(-50%, -50%) scale(1.1);
  }
}

/* .button.active {
  background-color: #000000;
  color: #ffffff;
  animation: none; 
    transform: translate(-50%, -50%) scale(1.1);
} */

  /* .button {
    cursor: pointer;
    padding: 10px 20px;
    border: none;
    background-color: #BD0200;
    color: white;
    font-size: 200px;
    text-transform: uppercase;
}

.button.active {
    background-color: var(--yellow600);
      background-color: #000000;
  color: #ffffff;
  animation: none; 
    transform: translate(-50%, -50%) scale(1.1);
} */

.pastitems {
  display: none; /* Initially hidden */
}

.products {
  list-style: none;
  padding: 0;
  margin: 0;
  background-color: orange;
}

.productlist {
  display: none;
}

.productlist.active {
  display: block;
  margin: 0 4rem;
}


.products li {
  margin: 10px 0;
  border: 1px solid #ccc;
  border-radius: 4px;
}


.products li:hover {
  background: #e0e0e0;
}
</style>

<script>
 document.addEventListener("DOMContentLoaded", () => {
    const buttons = document.querySelectorAll(".button");
    const productLists = document.querySelectorAll(".productlist");

    // Function to deactivate all buttons and lists
    function deactivateAll() {
        buttons.forEach(btn => btn.classList.remove("active"));
        productLists.forEach(list => list.classList.remove("active"));
    }

    // Add click event to each button
    buttons.forEach((button, index) => {
        button.addEventListener("click", (event) => {
            event.stopPropagation(); // Prevent the click event from bubbling up to the document
            
            // If the button is already active, deactivate it and its corresponding list
            if (button.classList.contains("active")) {
                button.classList.remove("active");
                productLists[index].classList.remove("active");
            } else {
                // Otherwise, deactivate all and activate the clicked button and its corresponding list
                deactivateAll();
                button.classList.add("active");
                productLists[index].classList.add("active");
            }
        });
    });

    // Prevent list click from closing itself
    productLists.forEach((list) => {
        list.addEventListener("click", (event) => {
            event.stopPropagation();
        });
    });
});

document.addEventListener("DOMContentLoaded", function() {
    // Hent alle knapper og billeder
    const buttons = document.querySelectorAll('.button');
    const images = document.querySelectorAll('.image_container');

    // Tilføj event listener til hver knap
    buttons.forEach((button, index) => {
        button.addEventListener('click', function() {
            // Fjern 'full' og 'fullsize' klasser fra alle billeder
            images.forEach(image => {
                image.classList.remove('full');
                image.classList.remove('fullsize');
            });

            // Find det aktuelle billede baseret på knappens index
            const image = images[index];
            
            // Kontroller om billedet allerede er i fuld størrelse
            if (!image.classList.contains('fullsize')) {
                // Hvis ikke, skal det ændres til fuld størrelse
                image.classList.add('fullsize');
            } else {
                // Hvis det allerede er i fuld størrelse, skal det ændres til normal størrelse
                image.classList.remove('fullsize');
                image.classList.add('full');
            }
        });
    });
});

</script>